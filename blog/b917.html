
<!DOCTYPE html>
<html>
<head>
    <link href="/images/favicon.ico" rel="icon" type="/image/x-icon" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="github.css">
</head>

<div class="navi"><div class="image-container"><a href="https://sberm.cn" class="link-wrapper"><img src="/images/leave.png" class="leave-img"/></a></div></div>
<div class = "spacing-div">
<article class="markdown-body">
<h2 id="user-content-ssh共享远程vim剪贴板"><a class="heading-link" href="#ssh共享远程vim剪贴板">ssh共享远程vim剪贴板<span aria-hidden="true" class="octicon octicon-link"></span></a></h2>
<ol>
<li>windows电脑下载MobaXterm或Xming, mac下载XQuartz作为X server, 下载后开启</li>
<li>服务器ssh配置文件/etc/ssh/sshd_config设置开启X11: X11Forwarding yes</li>
<li>个人经验，使用MobaXterm中给出的X server地址，设置windows环境变量$env:DISPLAY为该地址。可以在"编辑系统环境变量"中设置。</li>
</ol>
<div class="highlight highlight-source-powershell"><pre><span class="pl-c"><span class="pl-c">#</span> 设置</span>
PS C:\Users\Sberm<span class="pl-k">&gt;</span> <span class="pl-smi">$<span class="pl-c1">env:</span>DISPLAY</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>127.0.0.1:0.0<span class="pl-pds">"</span></span>

<span class="pl-c"><span class="pl-c">#</span> 查看</span>
PS C:\Users\Sberm<span class="pl-k">&gt;</span> echo <span class="pl-smi">$<span class="pl-c1">env:</span>DISPLAY</span>
<span class="pl-c1">127.0</span>.<span class="pl-c1">0.1</span>:<span class="pl-c1">0.0</span></pre></div>
<ol start="4">
<li>使用 ssh -Y @ 进行x forwarding(或者ssh -X @, 我的windows电脑无法使用)

</li>
<li>centos需要使用gvim(ubuntu的叫做vim-gtk)，它们支持剪贴板X11功能。</li>
</ol>
<pre><code># centos -&gt; 开启命令gvim或vimx
yum install vim-X11.x86_64

# ubuntu
sudo apt-get install vim-gtk
</code></pre>
<p>查看gvim是否支持X11(vim一般不支持):</p>
<div class="highlight highlight-source-shell"><pre><span class="pl-k">&gt;</span> gvim --version <span class="pl-k">|</span> grep clipboard
+clipboard         +jumplist          +persistent_undo   +virtualedit
-ebcdic            +mouseshape        +statusline        +xterm_clipboard</pre></div>
<p>xterm_clipboard前有加号即支持。同时得支持系统剪贴板(+clipboard)，我的centos8 yum下载的vim-enhanced原生不支持剪贴板</p>
<ol start="6">
<li>gvim -v开启编辑器(或vimx)，gvim中使用以下命令复制到系统剪贴板。enjoy</li>
</ol>
<pre lang="vimscript"><code>" 复制
%y+ " (visual选择的所有行/若无选择，文件全部行)
"+y " (normal)
"*y " (normal)
:"+y " (visual)
:"*y " (visual)

" 粘贴
&lt;ctrl + r&gt;+ (insert)
"+p " (normal)
"*p " (normal)
:"+p " (visual)
:"*p" (visual)
</code></pre>

</article>

<div id="footer-main">
    <div id="footer-line">
    </div>
    <div id="footer-text-wrapper">
        <p id="footer-text">
            The steadfast love of the Lord never ceases; his mercies never come to an end; they are new every morning; great is your faithfulness.
        </p>
    </div>
    <div id="footer-commu-background">
        <div id="footer-commu">
            <div class="footer-image-container">
                <a href="https://www.youtube.com/watch?v=XqZsoesa55w">
                    <img class="footer-image" src="../images/linux.png"/>
                </a>
            </div>
            <div class="footer-image-container">
                <a href="https://twitter.com/Fernand73827208">
                    <img class="footer-image" src="../images/twitter.png"/>
                </a>
            </div>
            <div class="footer-image-container">
                <a href="https://github.com/torvalds">
                    <img class="footer-image" src="../images/github.svg"/>
                </a>
            </div>
        </div>
    </div>
</div>
<div>
</div>
</div>
</html>
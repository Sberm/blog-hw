# 小贴士

#### 1.每个项目路径中，几乎都会有名为`note`, `deploy.sh`的文件

`deploy.sh`中有启动接口的命令(有些可以直接通过`./deploy.sh`启动)note中包含了一些重要的部署信息, 如果遇到了奇怪的bug, 可以在其中查看是否有记录到。(有时还会有测试用的命令，在`commands`中)

![](/images/docs/乐唯/Snipaste_2023-08-22_14-01-43.png)

#### 2. 日志都是通过nohup的重定向打印的，可以通过查看`deploy.sh`中的日志名称查看日志。

![](/images/docs/乐唯/Snipaste_2023-08-22_14-12-36.png)

#### 3.使用到的开源项目:

|名称|链接|
|:---:|:---:|
|ChatGLM2-6B|https://github.com/THUDM/ChatGLM2-6B|
|Langchain-Chatchat|https://github.com/chatchat-space/Langchain-Chatchat|
|textfilter|https://github.com/observerss/textfilter|
|KeyBERT|https://github.com/MaartenGr/KeyBERT|
|ChatGLM-Efficient-Tuning|https://github.com/hiyouga/ChatGLM-Efficient-Tuning|

#### 4. 方便的命令:

|命令|作用|
|:---|:---|
|api|查看所有正在运行的接口程序(这些程序中都有api三个字, 相当于简化版的 `ps aux \| grep api`)|
|gpu|查看显卡显存占用情况|
|tsh <文件/文件夹>|将文件移动到废纸篓(位置`/root/.Trash`)|
|dtest <问题>|使用<问题>进行知识库问答(即用于测试知识库模型表现)|
|sadd <敏感词>|增加敏感词并更新敏感词库|
|sdel <敏感词>|删除敏感词并更新敏感词库|
|killu \<PID\>|杀掉多进程接口|

#### 5. 其它工具

**ElasticSearch**

用于推荐算法中用户数据、黑名单、关注列表、用户对话记录的存储

具体使用请参见**陈浩宇**的文档[ElasticSearch安装与部署.docx](http://192.168.20.196/svn/matchmakin/01.CI/1.4%20Design/1.4.1%20SD/Draft/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/ElasticSearch%E5%AE%89%E8%A3%85%E4%B8%8E%E9%83%A8%E7%BD%B2.docx)

监听地址和端口

```bash
http://127.0.0.1:9200
```

---

**Redis**

用于敏感词过滤

监听地址和端口

```bash
from redis import Redis

rds = Redis(host="127.0.0.1", port=6379, decode_responses=True)
```

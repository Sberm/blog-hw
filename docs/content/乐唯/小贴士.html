
<!DOCTYPE html>
<html>
<head>
    <link href="/images/favicon.ico" rel="icon" type="/image/x-icon" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/docs/github.css">
</head>
<div class = "spacing-div">
<article class="markdown-body">
<h1><a id="user-content-小贴士" class="anchor" aria-hidden="true" href="#小贴士"><span aria-hidden="true" class="octicon octicon-link"></span></a>小贴士</h1>
<h4><a id="user-content-1每个项目路径中几乎都会有名为note-deploysh的文件" class="anchor" aria-hidden="true" href="#1每个项目路径中几乎都会有名为note-deploysh的文件"><span aria-hidden="true" class="octicon octicon-link"></span></a>1.每个项目路径中，几乎都会有名为<code>note</code>, <code>deploy.sh</code>的文件</h4>
<p><code>deploy.sh</code>中有启动接口的命令(有些可以直接通过<code>./deploy.sh</code>启动)note中包含了一些重要的部署信息, 如果遇到了奇怪的bug, 可以在其中查看是否有记录到。(有时还会有测试用的命令，在<code>commands</code>中)</p>
<p><a target="_blank" rel="noopener noreferrer" href="/images/docs/%E4%B9%90%E5%94%AF/Snipaste_2023-08-22_14-01-43.png"><img src="/images/docs/%E4%B9%90%E5%94%AF/Snipaste_2023-08-22_14-01-43.png" alt="" style="max-width: 100%;"></a></p>
<h4><a id="user-content-2-日志都是通过nohup的重定向打印的可以通过查看deploysh中的日志名称查看日志" class="anchor" aria-hidden="true" href="#2-日志都是通过nohup的重定向打印的可以通过查看deploysh中的日志名称查看日志"><span aria-hidden="true" class="octicon octicon-link"></span></a>2. 日志都是通过nohup的重定向打印的，可以通过查看<code>deploy.sh</code>中的日志名称查看日志。</h4>
<p><a target="_blank" rel="noopener noreferrer" href="/images/docs/%E4%B9%90%E5%94%AF/Snipaste_2023-08-22_14-12-36.png"><img src="/images/docs/%E4%B9%90%E5%94%AF/Snipaste_2023-08-22_14-12-36.png" alt="" style="max-width: 100%;"></a></p>
<h4><a id="user-content-3使用到的开源项目" class="anchor" aria-hidden="true" href="#3使用到的开源项目"><span aria-hidden="true" class="octicon octicon-link"></span></a>3.使用到的开源项目:</h4>
<table>
<thead>
<tr>
<th align="center">名称</th>
<th align="center">链接</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">ChatGLM2-6B</td>
<td align="center"><a href="https://github.com/THUDM/ChatGLM2-6B">https://github.com/THUDM/ChatGLM2-6B</a></td>
</tr>
<tr>
<td align="center">Langchain-Chatchat</td>
<td align="center"><a href="https://github.com/chatchat-space/Langchain-Chatchat">https://github.com/chatchat-space/Langchain-Chatchat</a></td>
</tr>
<tr>
<td align="center">textfilter</td>
<td align="center"><a href="https://github.com/observerss/textfilter">https://github.com/observerss/textfilter</a></td>
</tr>
<tr>
<td align="center">KeyBERT</td>
<td align="center"><a href="https://github.com/MaartenGr/KeyBERT">https://github.com/MaartenGr/KeyBERT</a></td>
</tr>
<tr>
<td align="center">ChatGLM-Efficient-Tuning</td>
<td align="center"><a href="https://github.com/hiyouga/ChatGLM-Efficient-Tuning">https://github.com/hiyouga/ChatGLM-Efficient-Tuning</a></td>
</tr>
</tbody>
</table>
<h4><a id="user-content-4-方便的命令" class="anchor" aria-hidden="true" href="#4-方便的命令"><span aria-hidden="true" class="octicon octicon-link"></span></a>4. 方便的命令:</h4>
<table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">api</td>
<td align="left">查看所有正在运行的接口程序(这些程序中都有api三个字, 相当于简化版的 <code>ps aux | grep api</code>)</td>
</tr>
<tr>
<td align="left">gpu</td>
<td align="left">查看显卡显存占用情况</td>
</tr>
<tr>
<td align="left">tsh &lt;文件/文件夹&gt;</td>
<td align="left">将文件移动到废纸篓(位置<code>/root/.Trash</code>)</td>
</tr>
<tr>
<td align="left">dtest &lt;问题&gt;</td>
<td align="left">使用&lt;问题&gt;进行知识库问答(即用于测试知识库模型表现)</td>
</tr>
<tr>
<td align="left">sadd &lt;敏感词&gt;</td>
<td align="left">增加敏感词并更新敏感词库</td>
</tr>
<tr>
<td align="left">sdel &lt;敏感词&gt;</td>
<td align="left">删除敏感词并更新敏感词库</td>
</tr>
<tr>
<td align="left">killu &lt;PID&gt;</td>
<td align="left">杀掉多进程接口</td>
</tr>
</tbody>
</table>
<h4><a id="user-content-5-其它工具" class="anchor" aria-hidden="true" href="#5-其它工具"><span aria-hidden="true" class="octicon octicon-link"></span></a>5. 其它工具</h4>
<p><strong>ElasticSearch</strong></p>
<p>用于推荐算法中用户数据、黑名单、关注列表、用户对话记录的存储</p>
<p>具体使用请参见<strong>陈浩宇</strong>的文档<a href="http://192.168.20.196/svn/matchmakin/01.CI/1.4%20Design/1.4.1%20SD/Draft/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/ElasticSearch%E5%AE%89%E8%A3%85%E4%B8%8E%E9%83%A8%E7%BD%B2.docx" rel="nofollow">ElasticSearch安装与部署.docx</a></p>
<p>监听地址和端口</p>
<div class="highlight highlight-source-shell"><pre>http://127.0.0.1:9200</pre></div>
<hr>
<p><strong>Redis</strong></p>
<p>用于敏感词过滤</p>
<p>监听地址和端口</p>
<div class="highlight highlight-source-shell"><pre>from redis import Redis

rds = Redis(host=<span class="pl-s"><span class="pl-pds">"</span>127.0.0.1<span class="pl-pds">"</span></span>, port=6379, decode_responses=True)</pre></div>

</article>
<div>
</div>
</div>
</html>